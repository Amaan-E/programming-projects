<form>
    <input id="isbn" placeholder="Enter ISBN" />
    <button type="submit">Validate</button>
    <p id="result"></p>
</form>

<script>
    const form = document.querySelector("form");

    form.addEventListener("submit", (event) => {
        event.preventDefault();

        let input = document.querySelector("#isbn").value.trim();
        const result = document.querySelector("#result");

        // Regex for ISBN-13 (with optional hyphens or spaces)
        const isbn13Regex =
            /^(97[89])[- ]?\d{1,5}[- ]?\d{1,7}[- ]?\d{1,7}[- ]?\d$/;

        if (!isbn13Regex.test(input)) {
            result.textContent = "Invalid format for ISBN-13";
            return;
        }

        // Remove hyphens/spaces
        input = input.replace(/[- ]/g, "");

        // Checksum validation
        let sum = 0;
        for (let i = 0; i < 12; i++) {
            // parseInt is similar to Number
            const digit = parseInt(input[i]);
            sum += i % 2 === 0 ? digit : digit * 3;
        }

        const checkDigit = (10 - (sum % 10)) % 10;
        const lastDigit = parseInt(input[12]);

        result.textContent =
            checkDigit === lastDigit ? "Correct!" : "Incorrect!";
    });
</script>
